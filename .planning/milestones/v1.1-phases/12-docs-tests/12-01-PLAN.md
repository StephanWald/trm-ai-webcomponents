---
phase: 12-docs-tests
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/docs/components/sp-org-chart.mdx
  - docs/docs/components/sp-walkthrough.mdx
  - docs/docs/components/sp-popover.mdx
autonomous: true
requirements:
  - DOCS-01

must_haves:
  truths:
    - "sp-org-chart doc page reflects v1.1 User data model (firstName, lastName, email, phone, branchId) not v1.0 (name, title, department)"
    - "sp-org-chart doc page shows branch filtering example using filterMode and filterBranchId props"
    - "sp-walkthrough doc page reflects v1.1 controls (Tabler icons, progress bar, skip/restart, scene list popup, volume popup, caption overlay)"
    - "sp-popover has a new Docusaurus page with usage examples and API reference"
  artifacts:
    - path: "docs/docs/components/sp-org-chart.mdx"
      provides: "Updated org chart docs with v1.1 API"
    - path: "docs/docs/components/sp-walkthrough.mdx"
      provides: "Updated walkthrough docs with v1.1 features"
    - path: "docs/docs/components/sp-popover.mdx"
      provides: "New popover component docs"
  key_links:
    - from: "docs/docs/components/sp-org-chart.mdx"
      to: "docs.json"
      via: "ApiReference component reads sp-org-chart entry"
      pattern: "docsData.components.find.*sp-org-chart"
    - from: "docs/docs/components/sp-popover.mdx"
      to: "docs.json"
      via: "ApiReference component reads sp-popover entry"
      pattern: "docsData.components.find.*sp-popover"
---

<objective>
Update the Docusaurus API reference pages for sp-org-chart and sp-walkthrough to reflect all v1.1 changes, and create a new page for sp-popover.

Purpose: DOCS-01 requires existing component docs to accurately reflect v1.1 API. The sp-org-chart page still uses the v1.0 data model (name, title, department) but v1.1 uses (firstName, lastName, email, phone, branchId, reportsTo). The sp-walkthrough examples need updates for new controls. sp-popover is a new utility component that needs its first doc page.

Output: 3 MDX files — 2 updated, 1 new
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@docs/docs/components/sp-org-chart.mdx
@docs/docs/components/sp-walkthrough.mdx
@docs/docs/components/sp-markdown-editor.mdx
@docs/src/components/ApiReference.tsx
@docs/src/components/LiveExample.tsx
@docs.json
@src/components/sp-org-chart/sp-org-chart.tsx
@src/components/sp-org-chart/types.ts
@src/components/sp-walkthrough/sp-walkthrough.tsx
@src/components/sp-popover/sp-popover.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update sp-org-chart and sp-walkthrough doc pages for v1.1 API</name>
  <files>
    docs/docs/components/sp-org-chart.mdx
    docs/docs/components/sp-walkthrough.mdx
  </files>
  <action>
Update sp-org-chart.mdx:
1. Update description to mention vertical indented list layout, branch filtering, timed delete, firstName/lastName data model
2. Update "Basic Org Chart" LiveExample to use v1.1 User data model: `{ id, firstName, lastName, email, phone, role, reportsTo, avatar }` instead of v1.0 `{ id, name, title, department, avatarUrl }`
3. Update "Editable Mode" example similarly — note editable defaults to true in v1.1, remove explicit `editable="true"` attribute
4. Replace "Filtered View" example with a "Branch Filtering" example using `filterMode` and `filterBranchId` props. Include a branch entity (user without lastName, with branchLogo) and demonstrate highlight/isolate filtering. Remove the old search/filter text since v1.1 removed the search input.
5. Update "Event Handling" example with v1.1 data model and event names (user-click, user-dblclick, hierarchy-change, user-delete with kebab-case DOM names)
6. Keep "Dark Mode" example, update data model
7. Keep ApiReference component at bottom (it auto-reads from docs.json which is already updated)

Update sp-walkthrough.mdx:
1. Update description to mention Tabler SVG icons, progress bar, skip/restart, scene list popup, volume popup, custom caption overlay, markdown text bubble, highlight animations
2. Keep "Basic Walkthrough" example but update scene objects if needed (scene shape unchanged — id, caption, startTime, endTime)
3. Update "Author Mode" example — author mode remains the same shape
4. Keep "Event Handling" and "Programmatic Control" examples — event names unchanged
5. Add a "Features" section before Examples describing key v1.1 features: Tabler icons, progress bar, skip ±10s, restart, scene list popup, volume slider popup, custom caption overlay, markdown in scene descriptions, highlight glow animations
6. Keep ApiReference component at bottom

Follow the existing MDX pattern: frontmatter, imports (docsData, LiveExample, ApiReference), export componentDocs, heading, description, installation, examples with LiveExample, API Reference section.
  </action>
  <verify>
Both files have valid MDX structure: frontmatter with title/description/sidebar_position, correct imports, componentDocs export, LiveExample usage with v1.1 data models, ApiReference at bottom. No v1.0 field names (name, title, department, avatarUrl) remain in sp-org-chart examples. Run: `cd docs && npx docusaurus build 2>&1 | tail -20` to confirm build succeeds.
  </verify>
  <done>
sp-org-chart.mdx uses v1.1 User model in all examples, shows branch filtering, removes search input references. sp-walkthrough.mdx describes v1.1 features (Tabler icons, progress bar, skip/restart, popups, captions, highlights). Both pages build without errors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create sp-popover Docusaurus page</name>
  <files>
    docs/docs/components/sp-popover.mdx
  </files>
  <action>
Create docs/docs/components/sp-popover.mdx following the exact same MDX pattern as sp-markdown-editor.mdx:

Frontmatter:
- title: sp-popover
- description: Viewport-aware popover positioning component with 6 placements, boundary detection, and configurable dismiss behaviors.
- sidebar_position: 4

Imports and componentDocs export (same pattern as other pages).

Description paragraph: Reusable viewport-aware popover component that positions slotted content relative to an anchor element. Supports 6 placement options, auto-repositioning when near viewport boundaries, close-on-outside-click and close-on-escape behaviors, and fade+slide enter animation.

Installation section: Same as other component pages (GitHub Release + script tag).

Examples:
1. "Basic Popover" — Button that toggles a popover below it with some text content. Use `<sp-popover>` with a button as previousElementSibling anchor. Set placement="bottom-start".
2. "Placement Options" — Show popover with different placement values. Use 2-3 buttons demonstrating bottom-start, top-start, right-start.
3. "Dismiss Behaviors" — Show popover with close-on-outside-click and close-on-escape toggled. Include checkboxes to toggle these props.
4. "Programmatic Control" — Buttons calling showPopover(), hidePopover(), togglePopover() methods.

API Reference: `<ApiReference component={componentDocs} />`

Keep examples simple and functional. The popover needs an anchor element — use its previousElementSibling default behavior (button right before the sp-popover element).
  </action>
  <verify>
File exists at docs/docs/components/sp-popover.mdx with valid MDX structure. Has frontmatter, imports, componentDocs export, examples using LiveExample, and ApiReference. Run: `cd docs && npx docusaurus build 2>&1 | tail -20` to confirm build succeeds.
  </verify>
  <done>
sp-popover.mdx exists with usage examples for all 6 placements, dismiss behaviors, and programmatic control. ApiReference renders props, events, and methods from docs.json. Docs site builds successfully.
  </done>
</task>

</tasks>

<verification>
1. `cd docs && npx docusaurus build` completes without errors
2. sp-org-chart.mdx contains no v1.0 field names (name, title, department, avatarUrl) in LiveExample code blocks
3. sp-org-chart.mdx contains filterMode and filterBranchId in at least one example
4. sp-walkthrough.mdx mentions Tabler icons, progress bar, skip, scene list popup, volume popup, captions, highlights
5. sp-popover.mdx exists with correct frontmatter and ApiReference component
</verification>

<success_criteria>
All three MDX files follow the established pattern, use correct v1.1 APIs in examples, and the docs site builds cleanly.
</success_criteria>

<output>
After completion, create `.planning/phases/12-docs-tests/12-01-SUMMARY.md`
</output>
