---
phase: 12-docs-tests
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/docs/components/sp-language-selector.mdx
  - docs/docs/components/sp-voice-input-button.mdx
  - docs/docs/components/sp-communication-preferences.mdx
  - docs/docs/components/sp-splash.mdx
  - docs/sidebars.ts
  - docs/docs/getting-started.md
autonomous: true
requirements:
  - DOCS-02

must_haves:
  truths:
    - "Docusaurus page exists for sp-language-selector with usage examples and prop tables"
    - "Docusaurus page exists for sp-voice-input-button with usage examples and prop tables"
    - "Docusaurus page exists for sp-communication-preferences with usage examples and prop tables"
    - "Docusaurus page exists for sp-splash with usage examples and prop tables"
    - "Sidebar lists all 8 components (3 existing + 5 new)"
    - "Getting Started page references new components in the Next Steps section"
  artifacts:
    - path: "docs/docs/components/sp-language-selector.mdx"
      provides: "Language selector component docs"
    - path: "docs/docs/components/sp-voice-input-button.mdx"
      provides: "Voice input button component docs"
    - path: "docs/docs/components/sp-communication-preferences.mdx"
      provides: "Communication preferences component docs"
    - path: "docs/docs/components/sp-splash.mdx"
      provides: "Splash screen component docs"
    - path: "docs/sidebars.ts"
      provides: "Updated sidebar with all 8 components"
    - path: "docs/docs/getting-started.md"
      provides: "Updated getting-started with new component links"
  key_links:
    - from: "docs/sidebars.ts"
      to: "docs/docs/components/*.mdx"
      via: "sidebar doc IDs reference MDX file slugs"
      pattern: "components/sp-"
    - from: "docs/docs/getting-started.md"
      to: "docs/docs/components/*.mdx"
      via: "markdown links in Next Steps section"
      pattern: "components/sp-"
---

<objective>
Create Docusaurus API reference pages for sp-language-selector, sp-voice-input-button, sp-communication-preferences, and sp-splash. Update sidebar and getting-started page to include all new components.

Purpose: DOCS-02 requires new Docusaurus pages for each new v1.1 component with usage examples and prop tables. The sidebar and getting-started page must be updated so users can discover and navigate to all components.

Output: 4 new MDX files, 1 updated sidebar, 1 updated getting-started page
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@docs/docs/components/sp-markdown-editor.mdx
@docs/sidebars.ts
@docs/docs/getting-started.md
@docs/src/components/ApiReference.tsx
@docs/src/components/LiveExample.tsx
@docs.json
@src/components/sp-language-selector/sp-language-selector.tsx
@src/components/sp-language-selector/utils/languages.ts
@src/components/sp-voice-input-button/sp-voice-input-button.tsx
@src/components/sp-communication-preferences/sp-communication-preferences.tsx
@src/components/sp-communication-preferences/types.ts
@src/components/sp-splash/sp-splash.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create doc pages for sp-language-selector, sp-voice-input-button, sp-communication-preferences, and sp-splash</name>
  <files>
    docs/docs/components/sp-language-selector.mdx
    docs/docs/components/sp-voice-input-button.mdx
    docs/docs/components/sp-communication-preferences.mdx
    docs/docs/components/sp-splash.mdx
  </files>
  <action>
Create 4 new MDX files following the exact pattern from sp-markdown-editor.mdx (frontmatter, imports, componentDocs export, heading, description, installation, examples with LiveExample, ApiReference):

**sp-language-selector.mdx** (sidebar_position: 5):
- Description: Inline language selector button with dropdown list. Shows globe icon, uppercase language code, and chevron. Clicking opens an animated dropdown with browser-preferred languages and alphabetically sorted others.
- Examples: (1) "Basic Language Selector" — default with selectedLanguage="en", (2) "With Language Change Handler" — listening to languageChange event and logging, (3) "Compact Mode" — compact="true", (4) "Dark Mode" — theme="dark"
- Note in examples: sp-language-selector embeds sp-popover and sp-language-list internally, so just the single tag is needed
- ApiReference at bottom

**sp-voice-input-button.mdx** (sidebar_position: 6):
- Description: Circular microphone button for voice input. Shows a 2-second hover progress cue before opening language selection. When listening, turns red with pulse animation and blinking recording indicator. Supports browser and AI transcription modes.
- Info admonition: Voice input examples show visual states only. Actual speech recognition requires browser SpeechRecognition API support and user microphone permission.
- Examples: (1) "Basic Voice Button" — default rendering, (2) "With Event Handlers" — listening to start, stop, error, transcriptionUpdate events, (3) "AI Mode" — mode="ai" showing robot icon, (4) "Disabled State" — enabled="false"
- ApiReference at bottom

**sp-communication-preferences.mdx** (sidebar_position: 7):
- Description: Communication channel preference selector. Shows current channel icon as a button; clicking opens a dropdown of 6 channels (Application, Email, WhatsApp, Phone, MS Teams, Google Chat) with icons and labels.
- Examples: (1) "Basic Communication Preferences" — default with selectedChannel="EMAIL", (2) "With Preference Change Handler" — listening to preferenceChange event, (3) "Compact Mode" — compact="true", (4) "Dark Mode" — theme="dark"
- ApiReference at bottom

**sp-splash.mdx** (sidebar_position: 8):
- Description: Full-screen modal splash overlay with backdrop blur, gradient header, and dismissable via close button, Escape key, or backdrop click. Content areas customizable via named slots.
- Examples: (1) "Basic Splash" — button to show splash with slotted content in logo, title, subtitle, body, footer slots, (2) "Programmatic Control" — show() and hide() methods via buttons, (3) "Event Handling" — listening to close event
- Note: sp-splash renders as full-screen overlay, so examples use a button to trigger show(). Keep iframe heights generous (400px+).
- ApiReference at bottom

For ALL pages: Use the standard Installation section (GitHub Release + script tag). Use LiveExample for interactive examples. Follow the import pattern: `import docsData from '@site/../docs.json'` (not `@site/../../docs.json` — match the existing pattern in current pages which use `@site/../docs.json`).
  </action>
  <verify>
All 4 files exist with valid MDX structure. Each has frontmatter (title, description, sidebar_position), correct imports, componentDocs export, LiveExample examples, and ApiReference. Run: `cd docs && npx docusaurus build 2>&1 | tail -20` to confirm build succeeds.
  </verify>
  <done>
Four new component doc pages exist with accurate descriptions, interactive examples using LiveExample, and ApiReference tables auto-generated from docs.json. Each demonstrates the component's key features and API.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update sidebars.ts and getting-started.md for all components</name>
  <files>
    docs/sidebars.ts
    docs/docs/getting-started.md
  </files>
  <action>
Update docs/sidebars.ts:
1. Add 5 new component entries to the Components category items array, after sp-markdown-editor:
   - { type: 'doc', id: 'components/sp-popover', label: 'sp-popover' }
   - { type: 'doc', id: 'components/sp-language-selector', label: 'sp-language-selector' }
   - { type: 'doc', id: 'components/sp-voice-input-button', label: 'sp-voice-input-button' }
   - { type: 'doc', id: 'components/sp-communication-preferences', label: 'sp-communication-preferences' }
   - { type: 'doc', id: 'components/sp-splash', label: 'sp-splash' }
2. Keep existing entries (sp-org-chart, sp-walkthrough, sp-markdown-editor) in their current positions

Update docs/docs/getting-started.md:
1. In the "Peer Dependencies" section, update the note "The other components (sp-org-chart, sp-walkthrough) have no peer dependencies" to include all new components: "The other components (sp-org-chart, sp-walkthrough, sp-popover, sp-language-selector, sp-voice-input-button, sp-communication-preferences, sp-splash) have no peer dependencies."
2. In "Next Steps" section, add links for the 5 new components after the existing 3:
   - [sp-popover](./components/sp-popover) — Viewport-aware popover positioning
   - [sp-language-selector](./components/sp-language-selector) — Language selection dropdown
   - [sp-voice-input-button](./components/sp-voice-input-button) — Voice input with speech recognition
   - [sp-communication-preferences](./components/sp-communication-preferences) — Communication channel selector
   - [sp-splash](./components/sp-splash) — Full-screen splash modal overlay
  </action>
  <verify>
sidebars.ts has 8 component entries in the Components category. getting-started.md links to all 8 components in Next Steps. Run: `cd docs && npx docusaurus build 2>&1 | tail -20` to confirm all sidebar references resolve.
  </verify>
  <done>
Sidebar lists all 8 components alphabetically grouped. Getting-started page references all components with correct relative links. Docs site builds without broken link warnings.
  </done>
</task>

</tasks>

<verification>
1. `cd docs && npx docusaurus build` completes without errors or broken link warnings
2. 4 new MDX files exist in docs/docs/components/ with correct frontmatter
3. sidebars.ts contains 8 component entries
4. getting-started.md Next Steps section links to all 8 components
5. Each new MDX page has ApiReference component rendering from docs.json
</verification>

<success_criteria>
All 4 new component pages follow the established pattern, sidebar navigation includes all components, getting-started references all components, and the docs site builds cleanly.
</success_criteria>

<output>
After completion, create `.planning/phases/12-docs-tests/12-02-SUMMARY.md`
</output>
